# Test info

- Name: Unauthenticated Card Purchase Tests >> Card purchase successful
- Location: /home/runner/work/Playwright0.1/Playwright0.1/tests/filmstaden_int/purchases/cardPurchase.spec.js:33:3

# Error details

```
Error: locator.inputValue: Test timeout of 60000ms exceeded.
Call log:
  - waiting for locator('#stepper-inputfield_Ordinarie')

    at ShowPage.selectOneTicket (/home/runner/work/Playwright0.1/Playwright0.1/pages/filmstaden_int/ShowPage.ts:74:38)
    at /home/runner/work/Playwright0.1/Playwright0.1/tests/filmstaden_int/purchases/cardPurchase.spec.js:47:22
    at /home/runner/work/Playwright0.1/Playwright0.1/tests/filmstaden_int/purchases/cardPurchase.spec.js:46:16
```

# Page snapshot

```yaml
- navigation:
  - link "temp logotype":
    - /url: /stockholm/
    - img "temp logotype"
  - link "Upptäck":
    - /url: /stockholm/
  - button "Gå på bio "
  - link "Medlemsskapet":
    - /url: /medlem/
  - button "Mer "
  - link "Logga in menuitem logo Logga in":
    - /url: https://inte-services.cinema-api.com/redirect/externalSignUpOrIn/se?redirectUrl=https://sv-sit-marvel.filmstaden.se/mina-sidor/
    - text: Logga in
    - img "menuitem logo Logga in"
  - button "Stockholm"
- main:
  - list:
    - listitem:
      - 'heading "Rafael: det unga geniet" [level=1]'
      - button "Ingen åldersgräns"
      - text: 1 tim 22 min Konst, Biografi
      - paragraph:
        - strong: En film till ära av 500-årsdagen av konstnärens död. Låt dig fångas upp i renässansen anda och omvälvas av mästarens sublima konst.
      - paragraph: Rafael levde 1483 till 1520. Under den tiden lyckades han porträttera ett ideal av gudomlig skönhet.
      - paragraph: Dokumentären tar upp hans porträtt av kvinnor – Modern, Väninnan, Älskarinnan, Klienten – och hans explosiva sätt att uttrycka deras personligheter.
      - paragraph: Vi får höra om Rafaels mor Magia Ciarla, som dog när konstnären var bara åtta år gammal, hans många beundrarinnor som hjälpte honom på vägen, och kvinnan som sägs ha lett honom till hans död. Vi får se bilder av kvinnor som fanns runt honom i hans liv, men också av kvinnor som bara existerade i hans fantasi.
      - paragraph: Filmen visar oss runt bland de mest betydande platserna under tiden för en av de mest fantastiska av renässansens mästare.
      - heading "Regi" [level=2]
      - paragraph: Massimo Ferrari
      - heading "Medverkande" [level=2]
      - paragraph: Vincenzo Farinella, Lorenza Mochi Onori, Tom Henry, Gloria Fossi, Ippolita Di Majo, Amélie Ferrigno
      - heading "Originaltitel" [level=2]
      - paragraph: "Rafael: det unga geniet"
      - heading "Originalspråk" [level=2]
      - paragraph: Engelska, Italienska, Franska
      - heading "Premiär" [level=2]
      - paragraph: 2020-11-09
      - heading "Åldersgräns" [level=2]
      - paragraph:
        - strong: "Ingen åldersgräns:"
        - text: Får ses på bio av alla oavsett ålder.
      - text: Läs mer
      - button "Läs mer"
      - dialog
      - dialog
      - heading "Biljetter" [level=2]
      - radio "Idag 21 jul" [checked]
      - text: Idag 21 jul
      - radio "tisdag 22 jul"
      - text: tisdag 22 jul
      - radio "onsdag 23 jul"
      - text: onsdag 23 jul
      - radio "torsdag 24 jul"
      - text: torsdag 24 jul
      - radio "fredag 25 jul"
      - text: fredag 25 jul
      - radio "lördag 26 jul"
      - text: lördag 26 jul
      - radio "söndag 27 jul"
      - text: söndag 27 jul
      - radio "måndag 28 jul"
      - text: måndag 28 jul Biljetter till fler datum släpps på onsdag.
      - heading "Biografer" [level=3]
      - checkbox "Alla" [checked]
      - text: Alla
      - checkbox "Scandinavia"
      - text: Scandinavia
      - checkbox "Söder"
      - text: Söder
      - list:
        - listitem:
          - heading "Filmstaden Scandinavia" [level=2]
          - list:
            - listitem:
              - paragraph: Eng tal, Ita tal, Fra tal, Sve text
              - list:
                - listitem:
                  - link "12:00 Salong 4 175 av 175":
                    - /url: /bokning/kop/a809d549-2a12-47d9-b4db-41b7bdbc9d65/
                - listitem:
                  - link "14:07 Salong 4 175 av 175":
                    - /url: /bokning/kop/0d8fd9e1-8117-4ecf-8049-863b6497cd78/
                - listitem:
                  - link "16:14 Salong 4 175 av 175":
                    - /url: /bokning/kop/57ff7167-b0f5-42a0-ad6a-d676322c146a/
                - listitem:
                  - link "18:21 Salong 4 175 av 175":
                    - /url: /bokning/kop/d0b0a36c-d0fa-4536-865f-ce3c5f5a4d10/
      - list:
        - listitem:
          - heading "Filmstaden Söder (Tillfälligt stängd)" [level=2]
          - list:
            - listitem:
              - paragraph: Eng tal, Ita tal, Fra tal, Sve text
              - list:
                - listitem:
                  - link "22:35 Salong 1 270 av 270":
                    - /url: /bokning/kop/d9532790-bdea-47b0-b857-f7a1d5939a60/
          - heading "Nattvisning" [level=2]
          - paragraph: måndag 21 juli 22:42
          - checkbox "mån 21 jul"
          - text: mån 21 jul
      - heading "Liknande filmer" [level=2]
      - list:
        - listitem:
          - img "Leonardo Da Vinci - Louvren"
          - img "Leonardo Da Vinci - Louvren"
          - link "Leonardo Da Vinci - Louvren":
            - /url: /film/leonardo-da-vinci-louvren/
    - listitem:
      - 'img "Rafael: det unga geniet"'
      - 'img "Rafael: det unga geniet"'
      - 'img "Rafael: det unga geniet"'
- contentinfo:
  - heading "Om oss" [level=2]
  - list:
    - listitem:
      - link "Jobba hos oss ":
        - /url: https://jobb.filmstaden.se/
    - listitem:
      - link "Press ":
        - /url: https://www.mynewsdesk.com/se/filmstaden-ab/
    - listitem:
      - link "Om Filmstaden":
        - /url: /kundservice/fragor-och-svar/fragor-och-svar/om-filmstaden/
    - listitem:
      - link "Filmpanelen":
        - /url: /filmpanelen/
    - listitem:
      - link "Alla våra biostäder":
        - /url: /alla-biostader/
    - listitem:
      - link "Alla våra biografer":
        - /url: /biografer/
  - heading "För företag" [level=2]
  - list:
    - listitem:
      - link "Företagsbiljetter":
        - /url: /foretagsbiljetter/
    - listitem:
      - link "Möten & Event ":
        - /url: https://moten.filmstaden.se/
    - listitem:
      - link "Bioreklam ":
        - /url: https://media.filmstaden.se/
    - listitem:
      - link "Föreningsbiljetten":
        - /url: /foreningsbiljetten/
  - heading "Hjälp & kontakt" [level=2]
  - list:
    - listitem:
      - link "Kundservice":
        - /url: /kundservice/fragor-och-svar/
    - listitem:
      - link "Tillgänglig bio":
        - /url: /tillganglig-bio/
    - listitem:
      - link "Personuppgiftspolicy":
        - /url: /kundservice/fragor-och-svar/villkor-och-policies/personuppgiftspolicy/
    - listitem:
      - link "Cookiepolicy":
        - /url: /kundservice/fragor-och-svar/villkor-och-policies/cookiepolicy/
    - listitem:
      - link "Kontakta oss":
        - /url: /kundservice/kontakta-oss/
  - heading "Sociala medier" [level=2]
  - list:
    - listitem:
      - link "Instagram ":
        - /url: https://www.instagram.com/filmstaden_ab/
    - listitem:
      - link "Facebook ":
        - /url: https://www.facebook.com/filmstadenab
    - listitem:
      - link "LinkedIn ":
        - /url: https://se.linkedin.com/company/filmstaden
  - separator
  - img "Filmstaden logotype"
  - paragraph: Filmstaden ©2021. En del av Odeon Cinemas Group
- text: "Navigated to Rafael: det unga geniet"
```

# Test source

```ts
   1 | import { DefaultPageWithNavigation } from './DefaultPageWithNavigation';
   2 |
   3 | export class ShowPage extends DefaultPageWithNavigation {
   4 |   private ticketStepper: any;
   5 |   private emailField: any;
   6 |   private ageLimitCheckbox: any;
   7 |   private secondAgeLimitCheckbox: any;
   8 |   private paymentButton: any;
   9 |   private removeTicketButton: any;
   10 |   private addTicketButton: any;
   11 |   private discountInfoButton: any;
   12 |   private discountCodeField: any;
   13 |   private discountActivateButton: any;
   14 |   private discountPopupButton: any;
   15 |   private noPaymentNeededButton: any;
   16 |   public amountOfTicketsLabel: any;
   17 |   public mainContentLocator: any;
   18 |   public discountCodeInfo: any;
   19 |   public formLocator: any;
   20 |   public salonInformationButton: any;
   21 |   public dialogLocator: any;
   22 |   public closeDialogButton: any;
   23 |
   24 |   constructor(page) {
   25 |     super(page);
   26 |     this.ticketStepper = this.page.locator('#stepper-inputfield_Ordinarie');
   27 |     this.emailField = this.page.getByPlaceholder('Fyll i din e-postadress');
   28 |     this.ageLimitCheckbox = this.page
   29 |       .locator('label')
   30 |       .filter({ hasText: 'Jag är medveten om att filmen' });
   31 |     this.secondAgeLimitCheckbox = this.page
   32 |       .locator('label')
   33 |       .filter({ hasText: 'Jag intygar att alla i sä' });
   34 |     this.paymentButton = this.page.getByRole('button', {
   35 |       name: 'Fortsätt till kortbetalning',
   36 |     });
   37 |     this.noPaymentNeededButton = this.page.getByRole('button', {
   38 |       name: 'Fortsätt',
   39 |     });
   40 |     this.removeTicketButton = this.page
   41 |       .locator(
   42 |         '//span[@class="icomoon icon-collapse-solid  inline-block align-middle text-icon-size-40 w-[2.5rem] h-[2.5rem] leading-none"]'
   43 |       )
   44 |       .nth(0);
   45 |     this.addTicketButton = this.page
   46 |       .locator(
   47 |         '//span[@class="icomoon icon-expand-solid  inline-block align-middle text-icon-size-40 w-[2.5rem] h-[2.5rem] leading-none"]'
   48 |       )
   49 |       .nth(0);
   50 |     this.discountInfoButton = this.page.getByRole('button', {
   51 |       name: ' Probem med rabattkoden',
   52 |     });
   53 |     this.discountCodeField = this.page.getByPlaceholder('Ange kod');
   54 |     this.discountActivateButton = this.page.getByRole('button', {
   55 |       name: 'Aktivera',
   56 |     });
   57 |     this.discountPopupButton = this.page.getByRole('button', {
   58 |       name: 'Lös in in rabattkod',
   59 |     });
   60 |     this.amountOfTicketsLabel = this.page.locator(
   61 |       "//div[@class='shrink-0 text-right font-bold']"
   62 |     );
   63 |     this.mainContentLocator = this.page.getByRole('main');
   64 |     this.discountCodeInfo = this.page.getByLabel('Probem med rabattkoden');
   65 |     this.formLocator = this.page.locator('form');
   66 |     this.salonInformationButton = this.page.getByRole('button', {
   67 |       name: 'Salongsinformation',
   68 |     });
   69 |     this.dialogLocator = this.page.getByRole('dialog');
   70 |     this.closeDialogButton = this.page.getByRole('button', { name: 'Stäng' });
   71 |   }
   72 |
   73 |   async selectOneTicket() {
>  74 |     while ((await this.ticketStepper.inputValue()) !== '1') {
      |                                      ^ Error: locator.inputValue: Test timeout of 60000ms exceeded.
   75 |       await this.removeTicketButton.click();
   76 |       if ((await this.ticketStepper.inputValue()) === '0') {
   77 |         await this.addTicketButton.click();
   78 |       }
   79 |     }
   80 |   }
   81 |
   82 |   async openDiscountPopup() {
   83 |     await this.discountPopupButton.click();
   84 |   }
   85 |
   86 |   async expandDiscountInfo() {
   87 |     await this.discountInfoButton.click();
   88 |   }
   89 |
   90 |   async fillDiscountCode(discountCode: string) {
   91 |     await this.discountCodeField.fill(discountCode);
   92 |   }
   93 |
   94 |   async activateDiscountCode() {
   95 |     await this.discountActivateButton.click();
   96 |   }
   97 |
   98 |   async fillEmail(email) {
   99 |     await this.emailField.fill(email);
  100 |   }
  101 |
  102 |   async acceptAgeLimit() {
  103 |     if ((await this.ageLimitCheckbox.count()) > 0) {
  104 |       await this.ageLimitCheckbox.first().click();
  105 |     } else if ((await this.secondAgeLimitCheckbox.count()) > 0) {
  106 |       await this.secondAgeLimitCheckbox.first().click();
  107 |     }
  108 |   }
  109 |
  110 |   async startPayment() {
  111 |     await this.paymentButton.click();
  112 |   }
  113 |
  114 |   async finishWithoutPaying() {
  115 |     await this.noPaymentNeededButton.click();
  116 |   }
  117 |
  118 |   async clickSalonInformationButton() {
  119 |     await this.salonInformationButton.click();
  120 |   }
  121 |
  122 |   async closeSalonInformationButton() {
  123 |     await this.closeDialogButton.click();
  124 |   }
  125 |
  126 |   async findShowWithSalonInformation(
  127 |     selectFirstAvailableShowtime: (
  128 |       selectRandomMovie: () => Promise<void>
  129 |     ) => Promise<void>,
  130 |     selectRandomMovie: () => Promise<void>
  131 |   ) {
  132 |     let salonInfoButtonCount = await this.salonInformationButton.count();
  133 |     while (salonInfoButtonCount === 0) {
  134 |       await selectFirstAvailableShowtime(selectRandomMovie);
  135 |       await this.page.waitForLoadState('networkidle');
  136 |       salonInfoButtonCount = await this.salonInformationButton.count();
  137 |     }
  138 |   }
  139 | }
  140 |
```