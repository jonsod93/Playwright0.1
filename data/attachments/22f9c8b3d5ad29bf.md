# Test info

- Name: Unauthenticated Card Purchase Tests >> Card purchase successful
- Location: /home/runner/work/Playwright0.1/Playwright0.1/tests/filmstaden_int/purchases/cardPurchase.spec.js:33:3

# Error details

```
Error: locator.inputValue: Test timeout of 60000ms exceeded.
Call log:
  - waiting for locator('#stepper-inputfield_Ordinarie')

    at ShowPage.selectOneTicket (/home/runner/work/Playwright0.1/Playwright0.1/pages/filmstaden_int/ShowPage.ts:74:38)
    at /home/runner/work/Playwright0.1/Playwright0.1/tests/filmstaden_int/purchases/cardPurchase.spec.js:47:22
    at /home/runner/work/Playwright0.1/Playwright0.1/tests/filmstaden_int/purchases/cardPurchase.spec.js:46:16
```

# Page snapshot

```yaml
- navigation:
  - link "temp logotype":
    - /url: /stockholm/
    - img "temp logotype"
  - link "Upptäck":
    - /url: /stockholm/
  - button "Gå på bio "
  - link "Medlemsskapet":
    - /url: /medlem/
  - button "Mer "
  - link "Logga in menuitem logo Logga in":
    - /url: https://inte-services.cinema-api.com/redirect/externalSignUpOrIn/se?redirectUrl=https://sv-sit-marvel.filmstaden.se/mina-sidor/
    - text: Logga in
    - img "menuitem logo Logga in"
  - button "Stockholm"
- main:
  - list:
    - listitem:
      - heading "Unga kvinnor" [level=1]
      - button "Ingen åldersgräns"
      - text: 2 tim 15 min Drama, Romantik
      - paragraph: En tidlös berättelse om fyra systrar som är fast beslutna att leva sina liv på sina egna villkor.
      - paragraph: Regissören och manusförfattaren Greta Gerwig (”Lady Bird”) har gjort en "Unga kvinnor" baserat på den klassiska boken och andra texter av Louisa May Alcott.
      - paragraph:
        - text: 22 januari förhandsvisades ”Unga kvinnor” för Filmstadens guldmedlemmar i hela landet.
        - link "Så här tyckte de om filmen!":
          - /url: http://bit.ly/2RwbJZe
      - heading "Regi" [level=2]
      - paragraph: Greta Gerwig
      - heading "Skådespelare" [level=2]
      - paragraph: Saoirse Ronan, Emma Watson, Florence Pugh, Eliza Scanlen, Timothée Chalamet, Laura Dern, Meryl Streep
      - heading "Originaltitel" [level=2]
      - paragraph: Little Women
      - heading "Originalspråk" [level=2]
      - paragraph: Engelska
      - heading "Premiär" [level=2]
      - paragraph: 2020-01-24
      - heading "Åldersgräns" [level=2]
      - paragraph:
        - strong: "Ingen åldersgräns:"
        - text: Får ses på bio av alla oavsett ålder.
      - text: Läs mer
      - button "Läs mer"
      - dialog
      - dialog
      - heading "Biljetter" [level=2]
      - radio "Idag 8 jul" [checked]
      - text: Idag 8 jul
      - radio "onsdag 9 jul"
      - text: onsdag 9 jul
      - radio "torsdag 10 jul"
      - text: torsdag 10 jul
      - radio "fredag 11 jul"
      - text: fredag 11 jul
      - radio "lördag 12 jul"
      - text: lördag 12 jul
      - radio "söndag 13 jul"
      - text: söndag 13 jul
      - radio "måndag 14 jul"
      - text: måndag 14 jul Biljetter till fler datum släpps på onsdag.
      - heading "Biografer" [level=3]
      - checkbox "Alla" [checked]
      - text: Alla
      - checkbox "Grand Lidingö"
      - text: Grand Lidingö
      - checkbox "Råsunda"
      - text: Råsunda
      - checkbox "Victoria"
      - text: Victoria
      - checkbox "Vällingby"
      - text: Vällingby
      - list:
        - listitem:
          - heading "Filmstaden Råsunda" [level=2]
          - list:
            - listitem:
              - paragraph: Eng tal, Sve text
              - list:
                - listitem:
                  - link "12:00 Salong 1 - \"Anna-Lisa\" 69 av 69":
                    - /url: /bokning/kop/e1664c4e-cc1f-412a-bce5-3835a2b8045d/
                - listitem:
                  - link "15:00 Salong 1 - \"Anna-Lisa\" 69 av 69":
                    - /url: /bokning/kop/37c13934-3558-4402-bf2c-158cac7e6fdf/
                - listitem:
                  - link "18:00 Salong 1 - \"Anna-Lisa\" 69 av 69":
                    - /url: /bokning/kop/3560c8a1-52a8-4b9b-88a6-822517eec90a/
                - listitem:
                  - link "21:00 Salong 1 - \"Anna-Lisa\" 69 av 69":
                    - /url: /bokning/kop/f7129085-fca1-4932-a04e-2dbc67fff752/
          - heading "Nattvisning" [level=2]
          - paragraph: tisdag 8 juli 22:00
          - checkbox "tis 8 jul"
          - text: tis 8 jul
      - list:
        - listitem:
          - heading "Filmstaden Vällingby" [level=2]
          - list:
            - listitem:
              - paragraph: Eng tal, Sve text
              - list:
                - listitem:
                  - link "12:00 Salong 4 54 av 54":
                    - /url: /bokning/kop/7f15ffd1-829b-43a6-9ae1-7f6baf05f0e7/
                - listitem:
                  - link "15:00 Salong 4 54 av 54":
                    - /url: /bokning/kop/31557b7f-c561-474f-9217-ae7426c95ce8/
                - listitem:
                  - link "18:00 Salong 4 54 av 54":
                    - /url: /bokning/kop/cc7b3b56-19fa-4ef0-9181-b6d7bdc611c3/
                - listitem:
                  - link "21:00 Salong 4 54 av 54":
                    - /url: /bokning/kop/659d6331-5327-4ba8-b986-02c7876e0088/
          - heading "Nattvisning" [level=2]
          - paragraph: tisdag 8 juli 22:00
          - checkbox "tis 8 jul"
          - text: tis 8 jul
      - list:
        - listitem:
          - heading "Grand Lidingö" [level=2]
          - list:
            - listitem:
              - paragraph: Eng tal, Sve text
              - list:
                - listitem:
                  - link "12:00 Salong 1 106 av 106":
                    - /url: /bokning/kop/d7f9e0dc-3624-4fa5-8596-ed602176fb27/
                - listitem:
                  - link "15:00 Salong 1 106 av 106":
                    - /url: /bokning/kop/78ec93b7-34eb-4eb5-b08b-a68d6873047d/
                - listitem:
                  - link "18:00 Salong 1 106 av 106":
                    - /url: /bokning/kop/2074b560-ce0f-4042-b441-0096df385543/
                - listitem:
                  - link "21:00 Salong 1 106 av 106":
                    - /url: /bokning/kop/6afbf08a-6934-448f-bd4c-f18d1f1b7f00/
          - heading "Nattvisning" [level=2]
          - paragraph: tisdag 8 juli 22:00
          - checkbox "tis 8 jul"
          - text: tis 8 jul
      - list:
        - listitem:
          - heading "Victoria Stockholm" [level=2]
          - list:
            - listitem:
              - paragraph: Eng tal, Sve text
              - list:
                - listitem:
                  - link "12:00 Salong 5 18 av 18":
                    - /url: /bokning/kop/c5de06fe-14c7-4fac-8e7e-3357fcc8ba92/
                - listitem:
                  - link "15:00 Salong 5 18 av 18":
                    - /url: /bokning/kop/6aba3469-c913-446f-aa80-74652902340f/
                - listitem:
                  - link "18:00 Salong 5 18 av 18":
                    - /url: /bokning/kop/445e514a-338a-452d-8264-ea04e5cc7b07/
                - listitem:
                  - link "21:00 Salong 5 18 av 18":
                    - /url: /bokning/kop/4845c976-03a4-4f40-8333-ab728444680b/
          - heading "Nattvisning" [level=2]
          - paragraph: tisdag 8 juli 22:00
          - checkbox "tis 8 jul"
          - text: tis 8 jul
      - heading "Liknande filmer" [level=2]
      - list:
        - listitem:
          - img "Summerland"
          - img "Summerland"
          - link "Summerland":
            - /url: /film/summerland/
        - listitem:
          - img "Våga drömma"
          - img "Våga drömma"
          - link "Våga drömma":
            - /url: /film/vaga-dromma/
        - listitem:
          - img "1917"
          - img "1917"
          - link "1917":
            - /url: /film/1917/
        - listitem:
          - img "A Clockwork Orange - Klassiker"
          - img "A Clockwork Orange - Klassiker"
          - link "A Clockwork Orange - Klassiker":
            - /url: /film/a-clockwork-orange-klassiker/
        - listitem:
          - img "Akira - Klassiker"
          - img "Akira - Klassiker"
          - link "Akira - Klassiker":
            - /url: /film/akira-klassiker/
        - listitem:
          - img "Babyteeth"
          - img "Babyteeth"
          - link "Babyteeth":
            - /url: /film/babyteeth/
        - listitem:
          - img "Charter"
          - img "Charter"
          - link "Charter":
            - /url: /film/charter/
        - listitem:
          - img "David Copperfields äventyr och iakttagelser"
          - img "David Copperfields äventyr och iakttagelser"
          - link "David Copperfields äventyr och iakttagelser":
            - /url: /film/david-copperfields-aventyr-och-iakttagelser/
    - listitem:
      - dialog
      - img "Unga kvinnor"
      - button " Se trailer"
      - img "Unga kvinnor"
      - img "Unga kvinnor"
- contentinfo:
  - heading "Om oss" [level=2]
  - list:
    - listitem:
      - link "Jobba hos oss ":
        - /url: https://jobb.filmstaden.se/
    - listitem:
      - link "Press ":
        - /url: https://www.mynewsdesk.com/se/filmstaden-ab/
    - listitem:
      - link "Om Filmstaden":
        - /url: /kundservice/fragor-och-svar/fragor-och-svar/om-filmstaden/
    - listitem:
      - link "Filmpanelen":
        - /url: /filmpanelen/
    - listitem:
      - link "Alla våra biostäder":
        - /url: /alla-biostader/
    - listitem:
      - link "Alla våra biografer":
        - /url: /biografer/
  - heading "För företag" [level=2]
  - list:
    - listitem:
      - link "Företagsbiljetter":
        - /url: /foretagsbiljetter/
    - listitem:
      - link "Möten & Event ":
        - /url: https://moten.filmstaden.se/
    - listitem:
      - link "Bioreklam ":
        - /url: https://media.filmstaden.se/
    - listitem:
      - link "Föreningsbiljetten":
        - /url: /foreningsbiljetten/
  - heading "Hjälp & kontakt" [level=2]
  - list:
    - listitem:
      - link "Kundservice":
        - /url: /kundservice/fragor-och-svar/
    - listitem:
      - link "Tillgänglig bio":
        - /url: /tillganglig-bio/
    - listitem:
      - link "Personuppgiftspolicy":
        - /url: /kundservice/fragor-och-svar/villkor-och-policies/personuppgiftspolicy/
    - listitem:
      - link "Cookiepolicy":
        - /url: /kundservice/fragor-och-svar/villkor-och-policies/cookiepolicy/
    - listitem:
      - link "Kontakta oss":
        - /url: /kundservice/kontakta-oss/
  - heading "Sociala medier" [level=2]
  - list:
    - listitem:
      - link "Instagram ":
        - /url: https://www.instagram.com/filmstaden_ab/
    - listitem:
      - link "Facebook ":
        - /url: https://www.facebook.com/filmstadenab
    - listitem:
      - link "LinkedIn ":
        - /url: https://se.linkedin.com/company/filmstaden
  - separator
  - img "Filmstaden logotype"
  - paragraph: Filmstaden ©2021. En del av Odeon Cinemas Group
- text: Navigated to Unga kvinnor
```

# Test source

```ts
   1 | import { DefaultPageWithNavigation } from './DefaultPageWithNavigation';
   2 |
   3 | export class ShowPage extends DefaultPageWithNavigation {
   4 |   private ticketStepper: any;
   5 |   private emailField: any;
   6 |   private ageLimitCheckbox: any;
   7 |   private secondAgeLimitCheckbox: any;
   8 |   private paymentButton: any;
   9 |   private removeTicketButton: any;
   10 |   private addTicketButton: any;
   11 |   private discountInfoButton: any;
   12 |   private discountCodeField: any;
   13 |   private discountActivateButton: any;
   14 |   private discountPopupButton: any;
   15 |   private noPaymentNeededButton: any;
   16 |   public amountOfTicketsLabel: any;
   17 |   public mainContentLocator: any;
   18 |   public discountCodeInfo: any;
   19 |   public formLocator: any;
   20 |   public salonInformationButton: any;
   21 |   public dialogLocator: any;
   22 |   public closeDialogButton: any;
   23 |
   24 |   constructor(page) {
   25 |     super(page);
   26 |     this.ticketStepper = this.page.locator('#stepper-inputfield_Ordinarie');
   27 |     this.emailField = this.page.getByPlaceholder('Fyll i din e-postadress');
   28 |     this.ageLimitCheckbox = this.page
   29 |       .locator('label')
   30 |       .filter({ hasText: 'Jag är medveten om att filmen' });
   31 |     this.secondAgeLimitCheckbox = this.page
   32 |       .locator('label')
   33 |       .filter({ hasText: 'Jag intygar att alla i sä' });
   34 |     this.paymentButton = this.page.getByRole('button', {
   35 |       name: 'Fortsätt till kortbetalning',
   36 |     });
   37 |     this.noPaymentNeededButton = this.page.getByRole('button', {
   38 |       name: 'Fortsätt',
   39 |     });
   40 |     this.removeTicketButton = this.page
   41 |       .locator(
   42 |         '//span[@class="icomoon icon-collapse-solid  inline-block align-middle text-icon-size-40 w-[2.5rem] h-[2.5rem] leading-none"]'
   43 |       )
   44 |       .nth(0);
   45 |     this.addTicketButton = this.page
   46 |       .locator(
   47 |         '//span[@class="icomoon icon-expand-solid  inline-block align-middle text-icon-size-40 w-[2.5rem] h-[2.5rem] leading-none"]'
   48 |       )
   49 |       .nth(0);
   50 |     this.discountInfoButton = this.page.getByRole('button', {
   51 |       name: ' Probem med rabattkoden',
   52 |     });
   53 |     this.discountCodeField = this.page.getByPlaceholder('Ange kod');
   54 |     this.discountActivateButton = this.page.getByRole('button', {
   55 |       name: 'Aktivera',
   56 |     });
   57 |     this.discountPopupButton = this.page.getByRole('button', {
   58 |       name: 'Lös in in rabattkod',
   59 |     });
   60 |     this.amountOfTicketsLabel = this.page.locator(
   61 |       "//div[@class='shrink-0 text-right font-bold']"
   62 |     );
   63 |     this.mainContentLocator = this.page.getByRole('main');
   64 |     this.discountCodeInfo = this.page.getByLabel('Probem med rabattkoden');
   65 |     this.formLocator = this.page.locator('form');
   66 |     this.salonInformationButton = this.page.getByRole('button', {
   67 |       name: 'Salongsinformation',
   68 |     });
   69 |     this.dialogLocator = this.page.getByRole('dialog');
   70 |     this.closeDialogButton = this.page.getByRole('button', { name: 'Stäng' });
   71 |   }
   72 |
   73 |   async selectOneTicket() {
>  74 |     while ((await this.ticketStepper.inputValue()) !== '1') {
      |                                      ^ Error: locator.inputValue: Test timeout of 60000ms exceeded.
   75 |       await this.removeTicketButton.click();
   76 |       if ((await this.ticketStepper.inputValue()) === '0') {
   77 |         await this.addTicketButton.click();
   78 |       }
   79 |     }
   80 |   }
   81 |
   82 |   async openDiscountPopup() {
   83 |     await this.discountPopupButton.click();
   84 |   }
   85 |
   86 |   async expandDiscountInfo() {
   87 |     await this.discountInfoButton.click();
   88 |   }
   89 |
   90 |   async fillDiscountCode(discountCode: string) {
   91 |     await this.discountCodeField.fill(discountCode);
   92 |   }
   93 |
   94 |   async activateDiscountCode() {
   95 |     await this.discountActivateButton.click();
   96 |   }
   97 |
   98 |   async fillEmail(email) {
   99 |     await this.emailField.fill(email);
  100 |   }
  101 |
  102 |   async acceptAgeLimit() {
  103 |     if ((await this.ageLimitCheckbox.count()) > 0) {
  104 |       await this.ageLimitCheckbox.first().click();
  105 |     } else if ((await this.secondAgeLimitCheckbox.count()) > 0) {
  106 |       await this.secondAgeLimitCheckbox.first().click();
  107 |     }
  108 |   }
  109 |
  110 |   async startPayment() {
  111 |     await this.paymentButton.click();
  112 |   }
  113 |
  114 |   async finishWithoutPaying() {
  115 |     await this.noPaymentNeededButton.click();
  116 |   }
  117 |
  118 |   async clickSalonInformationButton() {
  119 |     await this.salonInformationButton.click();
  120 |   }
  121 |
  122 |   async closeSalonInformationButton() {
  123 |     await this.closeDialogButton.click();
  124 |   }
  125 |
  126 |   async findShowWithSalonInformation(
  127 |     selectFirstAvailableShowtime: (
  128 |       selectRandomMovie: () => Promise<void>
  129 |     ) => Promise<void>,
  130 |     selectRandomMovie: () => Promise<void>
  131 |   ) {
  132 |     let salonInfoButtonCount = await this.salonInformationButton.count();
  133 |     while (salonInfoButtonCount === 0) {
  134 |       await selectFirstAvailableShowtime(selectRandomMovie);
  135 |       await this.page.waitForLoadState('networkidle');
  136 |       salonInfoButtonCount = await this.salonInformationButton.count();
  137 |     }
  138 |   }
  139 | }
  140 |
```