# Test info

- Name: Unauthenticated Card Purchase Tests >> Card purchase successful
- Location: /home/runner/work/Playwright0.1/Playwright0.1/tests/filmstaden_int/purchases/cardPurchase.spec.js:33:3

# Error details

```
Error: locator.inputValue: Test timeout of 60000ms exceeded.
Call log:
  - waiting for locator('#stepper-inputfield_Ordinarie')

    at ShowPage.selectOneTicket (/home/runner/work/Playwright0.1/Playwright0.1/pages/filmstaden_int/ShowPage.ts:74:38)
    at /home/runner/work/Playwright0.1/Playwright0.1/tests/filmstaden_int/purchases/cardPurchase.spec.js:47:22
    at /home/runner/work/Playwright0.1/Playwright0.1/tests/filmstaden_int/purchases/cardPurchase.spec.js:46:16
```

# Page snapshot

```yaml
- navigation:
  - link "temp logotype":
    - /url: /stockholm/
    - img "temp logotype"
  - link "Upptäck":
    - /url: /stockholm/
  - button "Gå på bio "
  - link "Medlemsskapet":
    - /url: /medlem/
  - button "Mer "
  - link "Logga in menuitem logo Logga in":
    - /url: https://inte-services.cinema-api.com/redirect/externalSignUpOrIn/se?redirectUrl=https://sv-sit-marvel.filmstaden.se/mina-sidor/
    - text: Logga in
    - img "menuitem logo Logga in"
  - button "Stockholm"
- main:
  - list:
    - listitem:
      - heading "Lejonkungen" [level=1]
      - button "11+"
      - text: 1 tim 58 min Familj, Äventyr, Drama
      - paragraph:
        - strong:
          - text: Filmen är
          - link "tillåten från 11 år":
            - /url: https://bit.ly/2W4QDF7
          - text: . I vuxens sällskap är det tillåtet att se filmen från 7 år.
      - paragraph: Disneys klassiska succé kommer nu i en helt ny tappning och tar oss till Afrikas savanner där den framtida kungen föds. Simba dyrkar sin far, Kung Mufasa, och är stolt över sitt kungliga arv. Men alla i kungariket uppskattar inte att en ny lejonunge har fötts. Scar, Mufasas bror – och den tidigare arvingen till tronen – har egna planer.
      - paragraph: Slaget om Lejonklippan genomsyras av förräderi, tragedi och drama vilket slutligen leder till Simbas flykt. Med hjälp av ett udda par nyfunna vänner måste Simba nu lista ut hur han ska lyckas ta tillbaka det som rättmätigt är hans.
      - paragraph: Donald Glover gör rösten till Simba, som Nala hör vi Beyoncé Knowles-Carter, James Earl Jones är Mufasa och som Scar hör vi Chiwetel Ejiofor. Seth Rogen och Billy Eichner har lånat sina röster till Pumba & Timon.
      - paragraph: "Svenska röster: John Lundvik, Molly Hammar, Björn Gustafsson, Linus Eklund Adolphson, Svante Thuresson upprepar, Johan Schinkler, Fred Johanson, Sharon Dyall, Livia Millhagen och Anis don Demina. Den nya versionen av ”En värld full av liv” sjungs av Laila Adele."
      - heading "Regi" [level=2]
      - paragraph: Jon Favreau
      - heading "Skådespelare" [level=2]
      - paragraph: Donald Glover, Seth Rogen, Billy Eichner, Chiwetel Ejiofor, James Earl Jones, Beyoncé
      - heading "Originaltitel" [level=2]
      - paragraph: The Lion King
      - heading "Originalspråk" [level=2]
      - paragraph: Engelska
      - heading "Premiär" [level=2]
      - paragraph: 2019-07-17
      - heading "Åldersgräns" [level=2]
      - paragraph:
        - strong: "Från 11 år:"
        - text: Får ses på bio av barn som fyllt 7 år i sällskap med vuxen.
      - text: Läs mer
      - button "Läs mer"
      - dialog
      - dialog
      - heading "Biljetter" [level=2]
      - radio "Idag 29 jun" [checked]
      - text: Idag 29 jun
      - radio "måndag 30 jun"
      - text: måndag 30 jun Biljetter till fler datum släpps på onsdag.
      - heading "Upplevelse" [level=3]
      - checkbox "Alla" [checked]
      - text: Alla
      - checkbox "VIP-salong"
      - text: VIP-salong
      - list:
        - listitem:
          - heading "Filmstaden Scandinavia" [level=2]
          - list:
            - listitem:
              - heading "VIP-salong" [level=2]
              - paragraph: Sve tal, Ej textad
              - list:
                - listitem:
                  - link "12:00 Salong 14 VIP 35 av 35":
                    - /url: /bokning/kop/01ed698f-1b37-4963-9608-e49a663be079/
                - listitem:
                  - link "14:43 Salong 14 VIP 35 av 35":
                    - /url: /bokning/kop/dc5b235c-0ce5-4e63-a79b-f8e2fbc2b1d5/
                - listitem:
                  - link "17:26 Salong 14 VIP 35 av 35":
                    - /url: /bokning/kop/6c6a2a67-c23b-41eb-a7ec-39c09390d0e7/
                - listitem:
                  - link "20:09 Salong 14 VIP 35 av 35":
                    - /url: /bokning/kop/72ee20b4-468f-4ad8-9d08-49c69d3d627f/
                - listitem:
                  - link "22:52 Salong 14 VIP 35 av 35":
                    - /url: /bokning/kop/a5b27a8d-0b95-423a-8b0e-b3e38db035bc/
      - heading "Liknande filmer" [level=2]
      - list:
        - listitem:
          - img "Frost 2"
          - img "Frost 2"
          - link "Frost 2":
            - /url: /film/frost-2/
        - listitem:
          - img "Katternas rike - Klassiker"
          - img "Katternas rike - Klassiker"
          - link "Katternas rike - Klassiker":
            - /url: /film/katternas-rike-klassiker/
        - listitem:
          - img "Lustiga små kryp"
          - img "Lustiga små kryp"
          - link "Lustiga små kryp":
            - /url: /film/lustiga-sma-kryp/
        - listitem:
          - 'img "Minioner: Berättelsen om Gru"'
          - 'img "Minioner: Berättelsen om Gru"'
          - 'link "Minioner: Berättelsen om Gru"':
            - /url: /film/minioner-berattelsen-om-gru/
        - listitem:
          - img "Operation Nordpolen"
          - img "Operation Nordpolen"
          - link "Operation Nordpolen":
            - /url: /film/operation-nordpolen/
        - listitem:
          - img "Ronja Rövardotter - Klassiker"
          - img "Ronja Rövardotter - Klassiker"
          - link "Ronja Rövardotter - Klassiker":
            - /url: /film/ronja-rovardotter-klassiker/
        - listitem:
          - img "Toy Story 4"
          - img "Toy Story 4"
          - link "Toy Story 4":
            - /url: /film/toy-story-4/
        - listitem:
          - img "Trollkarlen från Oz - Klassiker"
          - img "Trollkarlen från Oz - Klassiker"
          - link "Trollkarlen från Oz - Klassiker":
            - /url: /film/trollkarlen-fran-oz-klassiker/
    - listitem:
      - dialog
      - img "Lejonkungen"
      - button " Se trailer"
      - img "Lejonkungen"
      - img "Lejonkungen"
- contentinfo:
  - heading "Om oss" [level=2]
  - list:
    - listitem:
      - link "Jobba hos oss ":
        - /url: https://jobb.filmstaden.se/
    - listitem:
      - link "Press ":
        - /url: https://www.mynewsdesk.com/se/filmstaden-ab/
    - listitem:
      - link "Om Filmstaden":
        - /url: /kundservice/fragor-och-svar/fragor-och-svar/om-filmstaden/
    - listitem:
      - link "Filmpanelen":
        - /url: /filmpanelen/
    - listitem:
      - link "Alla våra biostäder":
        - /url: /alla-biostader/
    - listitem:
      - link "Alla våra biografer":
        - /url: /biografer/
  - heading "För företag" [level=2]
  - list:
    - listitem:
      - link "Företagsbiljetter":
        - /url: /foretagsbiljetter/
    - listitem:
      - link "Möten & Event ":
        - /url: https://moten.filmstaden.se/
    - listitem:
      - link "Bioreklam ":
        - /url: https://media.filmstaden.se/
    - listitem:
      - link "Föreningsbiljetten":
        - /url: /foreningsbiljetten/
  - heading "Hjälp & kontakt" [level=2]
  - list:
    - listitem:
      - link "Kundservice":
        - /url: /kundservice/fragor-och-svar/
    - listitem:
      - link "Tillgänglig bio":
        - /url: /tillganglig-bio/
    - listitem:
      - link "Personuppgiftspolicy":
        - /url: /kundservice/fragor-och-svar/villkor-och-policies/personuppgiftspolicy/
    - listitem:
      - link "Cookiepolicy":
        - /url: /kundservice/fragor-och-svar/villkor-och-policies/cookiepolicy/
    - listitem:
      - link "Kontakta oss":
        - /url: /kundservice/kontakta-oss/
  - heading "Sociala medier" [level=2]
  - list:
    - listitem:
      - link "Instagram ":
        - /url: https://www.instagram.com/filmstaden_ab/
    - listitem:
      - link "Facebook ":
        - /url: https://www.facebook.com/filmstadenab
    - listitem:
      - link "LinkedIn ":
        - /url: https://se.linkedin.com/company/filmstaden
  - separator
  - img "Filmstaden logotype"
  - paragraph: Filmstaden ©2021. En del av Odeon Cinemas Group
- text: Navigated to Lejonkungen
- button "Open chat":
  - img
```

# Test source

```ts
   1 | import { DefaultPageWithNavigation } from './DefaultPageWithNavigation';
   2 |
   3 | export class ShowPage extends DefaultPageWithNavigation {
   4 |   private ticketStepper: any;
   5 |   private emailField: any;
   6 |   private ageLimitCheckbox: any;
   7 |   private secondAgeLimitCheckbox: any;
   8 |   private paymentButton: any;
   9 |   private removeTicketButton: any;
   10 |   private addTicketButton: any;
   11 |   private discountInfoButton: any;
   12 |   private discountCodeField: any;
   13 |   private discountActivateButton: any;
   14 |   private discountPopupButton: any;
   15 |   private noPaymentNeededButton: any;
   16 |   public amountOfTicketsLabel: any;
   17 |   public mainContentLocator: any;
   18 |   public discountCodeInfo: any;
   19 |   public formLocator: any;
   20 |   public salonInformationButton: any;
   21 |   public dialogLocator: any;
   22 |   public closeDialogButton: any;
   23 |
   24 |   constructor(page) {
   25 |     super(page);
   26 |     this.ticketStepper = this.page.locator('#stepper-inputfield_Ordinarie');
   27 |     this.emailField = this.page.getByPlaceholder('Fyll i din e-postadress');
   28 |     this.ageLimitCheckbox = this.page
   29 |       .locator('label')
   30 |       .filter({ hasText: 'Jag är medveten om att filmen' });
   31 |     this.secondAgeLimitCheckbox = this.page
   32 |       .locator('label')
   33 |       .filter({ hasText: 'Jag intygar att alla i sä' });
   34 |     this.paymentButton = this.page.getByRole('button', {
   35 |       name: 'Fortsätt till kortbetalning',
   36 |     });
   37 |     this.noPaymentNeededButton = this.page.getByRole('button', {
   38 |       name: 'Fortsätt',
   39 |     });
   40 |     this.removeTicketButton = this.page
   41 |       .locator(
   42 |         '//span[@class="icomoon icon-collapse-solid  inline-block align-middle text-icon-size-40 w-[2.5rem] h-[2.5rem] leading-none"]'
   43 |       )
   44 |       .nth(0);
   45 |     this.addTicketButton = this.page
   46 |       .locator(
   47 |         '//span[@class="icomoon icon-expand-solid  inline-block align-middle text-icon-size-40 w-[2.5rem] h-[2.5rem] leading-none"]'
   48 |       )
   49 |       .nth(0);
   50 |     this.discountInfoButton = this.page.getByRole('button', {
   51 |       name: ' Probem med rabattkoden',
   52 |     });
   53 |     this.discountCodeField = this.page.getByPlaceholder('Ange kod');
   54 |     this.discountActivateButton = this.page.getByRole('button', {
   55 |       name: 'Aktivera',
   56 |     });
   57 |     this.discountPopupButton = this.page.getByRole('button', {
   58 |       name: 'Lös in in rabattkod',
   59 |     });
   60 |     this.amountOfTicketsLabel = this.page.locator(
   61 |       "//div[@class='shrink-0 text-right font-bold']"
   62 |     );
   63 |     this.mainContentLocator = this.page.getByRole('main');
   64 |     this.discountCodeInfo = this.page.getByLabel('Probem med rabattkoden');
   65 |     this.formLocator = this.page.locator('form');
   66 |     this.salonInformationButton = this.page.getByRole('button', {
   67 |       name: 'Salongsinformation',
   68 |     });
   69 |     this.dialogLocator = this.page.getByRole('dialog');
   70 |     this.closeDialogButton = this.page.getByRole('button', { name: 'Stäng' });
   71 |   }
   72 |
   73 |   async selectOneTicket() {
>  74 |     while ((await this.ticketStepper.inputValue()) !== '1') {
      |                                      ^ Error: locator.inputValue: Test timeout of 60000ms exceeded.
   75 |       await this.removeTicketButton.click();
   76 |       if ((await this.ticketStepper.inputValue()) === '0') {
   77 |         await this.addTicketButton.click();
   78 |       }
   79 |     }
   80 |   }
   81 |
   82 |   async openDiscountPopup() {
   83 |     await this.discountPopupButton.click();
   84 |   }
   85 |
   86 |   async expandDiscountInfo() {
   87 |     await this.discountInfoButton.click();
   88 |   }
   89 |
   90 |   async fillDiscountCode(discountCode: string) {
   91 |     await this.discountCodeField.fill(discountCode);
   92 |   }
   93 |
   94 |   async activateDiscountCode() {
   95 |     await this.discountActivateButton.click();
   96 |   }
   97 |
   98 |   async fillEmail(email) {
   99 |     await this.emailField.fill(email);
  100 |   }
  101 |
  102 |   async acceptAgeLimit() {
  103 |     if ((await this.ageLimitCheckbox.count()) > 0) {
  104 |       await this.ageLimitCheckbox.first().click();
  105 |     } else if ((await this.secondAgeLimitCheckbox.count()) > 0) {
  106 |       await this.secondAgeLimitCheckbox.first().click();
  107 |     }
  108 |   }
  109 |
  110 |   async startPayment() {
  111 |     await this.paymentButton.click();
  112 |   }
  113 |
  114 |   async finishWithoutPaying() {
  115 |     await this.noPaymentNeededButton.click();
  116 |   }
  117 |
  118 |   async clickSalonInformationButton() {
  119 |     await this.salonInformationButton.click();
  120 |   }
  121 |
  122 |   async closeSalonInformationButton() {
  123 |     await this.closeDialogButton.click();
  124 |   }
  125 |
  126 |   async findShowWithSalonInformation(
  127 |     selectFirstAvailableShowtime: (
  128 |       selectRandomMovie: () => Promise<void>
  129 |     ) => Promise<void>,
  130 |     selectRandomMovie: () => Promise<void>
  131 |   ) {
  132 |     let salonInfoButtonCount = await this.salonInformationButton.count();
  133 |     while (salonInfoButtonCount === 0) {
  134 |       await selectFirstAvailableShowtime(selectRandomMovie);
  135 |       await this.page.waitForLoadState('networkidle');
  136 |       salonInfoButtonCount = await this.salonInformationButton.count();
  137 |     }
  138 |   }
  139 | }
  140 |
```