# Test info

- Name: Unauthenticated Card Purchase Tests >> Card purchase successful
- Location: /home/runner/work/Playwright0.1/Playwright0.1/tests/filmstaden_int/purchases/cardPurchase.spec.js:33:3

# Error details

```
Error: locator.inputValue: Test timeout of 60000ms exceeded.
Call log:
  - waiting for locator('#stepper-inputfield_Ordinarie')

    at ShowPage.selectOneTicket (/home/runner/work/Playwright0.1/Playwright0.1/pages/filmstaden_int/ShowPage.ts:74:38)
    at /home/runner/work/Playwright0.1/Playwright0.1/tests/filmstaden_int/purchases/cardPurchase.spec.js:47:22
    at /home/runner/work/Playwright0.1/Playwright0.1/tests/filmstaden_int/purchases/cardPurchase.spec.js:46:16
```

# Page snapshot

```yaml
- navigation:
  - link "temp logotype":
    - /url: /stockholm/
    - img "temp logotype"
  - link "Upptäck":
    - /url: /stockholm/
  - button "Gå på bio "
  - link "Medlemsskapet":
    - /url: /medlem/
  - button "Mer "
  - link "Logga in menuitem logo Logga in":
    - /url: https://inte-services.cinema-api.com/redirect/externalSignUpOrIn/se?redirectUrl=https://sv-sit-marvel.filmstaden.se/mina-sidor/
    - text: Logga in
    - img "menuitem logo Logga in"
  - button "Stockholm"
- main:
  - list:
    - listitem:
      - 'heading "Minioner: Berättelsen om Gru" [level=1]'
      - button "7+"
      - text: 1 tim 27 min Animerat, Äventyr,
      - link "Komedi":
        - /url: /genre/komedifilmer/
      - text: Familj
      - paragraph: I mitten av 1970-talet växer Gru upp i en förort, mitt i en uppsjö av fjädrar i håret och utsvängda jeans. Gru är ett stort fan av en grupp superskurkar känd som Grymlingarna. Han funderar ut en plan som ska se till att han blir tillräckligt ond för att få vara med i gruppen. Lyckligtvis får han en viss kaosartad backup från sina lojala följare, Minionerna. Kevin, Stuart, Bob och Otto - en ny Minion med tandställning och ett desperat behov av att behaga – använder sina talanger när de tillsammans med Gru bygger sitt första hemliga gömställe, experimenterar med deras första vapen och försöker lyckas med deras första uppdrag. När Grymlingarna gör sig av med sin ledare, legendariska fightern Wild Knuckles, blir Gru intervjuad för att bli deras nyaste medlem.
      - heading "Regi" [level=2]
      - paragraph: Kyle Balda, Brad Ableson
      - heading "Originalröster" [level=2]
      - paragraph: Steve Carell, Lucy Lawless, Michelle Yeoh, Jean-Claude Van Damme, Julie Andrews, Dolph Lundgren, Taraji P. Henson
      - heading "Originaltitel" [level=2]
      - paragraph: "Minions: The Rise of Gru"
      - heading "Originalspråk" [level=2]
      - paragraph: Engelska
      - heading "Premiär" [level=2]
      - paragraph: 2022-07-01
      - heading "Åldersgräns" [level=2]
      - paragraph:
        - strong: "Från 7 år:"
        - text: Får ses på bio av barn under 7 år i vuxens sällskap.
      - text: Läs mer
      - button "Läs mer"
      - dialog
      - dialog
      - heading "Biljetter" [level=2]
      - radio "tisdag 1 jul" [checked]
      - text: tisdag 1 jul
      - radio "onsdag 2 jul"
      - text: onsdag 2 jul
      - radio "torsdag 3 jul"
      - text: torsdag 3 jul
      - radio "fredag 4 jul"
      - text: fredag 4 jul
      - radio "lördag 5 jul"
      - text: lördag 5 jul
      - radio "söndag 6 jul"
      - text: söndag 6 jul
      - radio "måndag 7 jul"
      - text: måndag 7 jul Biljetter till fler datum släpps på onsdag.
      - heading "Upplevelse" [level=3]
      - checkbox "Alla" [checked]
      - text: Alla
      - checkbox "XL - vår största duk"
      - text: XL - vår största duk
      - heading "Talat språk" [level=3]
      - checkbox "Alla" [checked]
      - text: Alla
      - checkbox "Svenska"
      - text: Svenska
      - checkbox "Engelska"
      - text: Engelska
      - list:
        - listitem:
          - heading "Filmstaden Heron City" [level=2]
          - list:
            - listitem:
              - heading "XL - vår största duk" [level=2]
              - paragraph: Sve tal, Sve text
              - list:
                - listitem:
                  - link "15:00 Salong 10 472 av 493":
                    - /url: /bokning/kop/2e0000f4-7c08-48fb-b693-55ac8596413c/
          - list:
            - listitem:
              - heading "XL - vår största duk" [level=2]
              - paragraph: Eng tal, Sve text
              - list:
                - listitem:
                  - link "18:40 Salong 9 493 av 493":
                    - /url: /bokning/kop/75f2ecbc-03e7-4ecf-8b3e-627defbbeebb/
      - heading "Liknande filmer" [level=2]
      - list:
        - listitem:
          - img "Tuffa gänget 2"
          - img "Tuffa gänget 2"
          - link "Tuffa gänget 2":
            - /url: /film/tuffa-ganget-2/
        - listitem:
          - img "Frost 2"
          - img "Frost 2"
          - link "Frost 2":
            - /url: /film/frost-2/
        - listitem:
          - img "Katternas rike - Klassiker"
          - img "Katternas rike - Klassiker"
          - link "Katternas rike - Klassiker":
            - /url: /film/katternas-rike-klassiker/
        - listitem:
          - img "Toy Story 4"
          - img "Toy Story 4"
          - link "Toy Story 4":
            - /url: /film/toy-story-4/
        - listitem:
          - img "Smurfar"
          - img "Smurfar"
          - link "Smurfar":
            - /url: /film/smurfar/
        - listitem:
          - img "Fåret Shaun - Farmageddon"
          - img "Fåret Shaun - Farmageddon"
          - link "Fåret Shaun - Farmageddon":
            - /url: /film/faret-shaun-farmageddon/
        - listitem:
          - img "Mästerdetektiven Sherlock Gnomes"
          - img "Mästerdetektiven Sherlock Gnomes"
          - link "Mästerdetektiven Sherlock Gnomes":
            - /url: /film/masterdetektiven-sherlock-gnomes/
        - listitem:
          - img "Röjar-Ralf kraschar internet"
          - img "Röjar-Ralf kraschar internet"
          - link "Röjar-Ralf kraschar internet":
            - /url: /film/rojar-ralf-kraschar-internet/
    - listitem:
      - dialog
      - 'img "Minioner: Berättelsen om Gru"'
      - button " Se trailer"
      - 'img "Minioner: Berättelsen om Gru"'
      - 'img "Minioner: Berättelsen om Gru"'
- contentinfo:
  - heading "Om oss" [level=2]
  - list:
    - listitem:
      - link "Jobba hos oss ":
        - /url: https://jobb.filmstaden.se/
    - listitem:
      - link "Press ":
        - /url: https://www.mynewsdesk.com/se/filmstaden-ab/
    - listitem:
      - link "Om Filmstaden":
        - /url: /kundservice/fragor-och-svar/fragor-och-svar/om-filmstaden/
    - listitem:
      - link "Filmpanelen":
        - /url: /filmpanelen/
    - listitem:
      - link "Alla våra biostäder":
        - /url: /alla-biostader/
    - listitem:
      - link "Alla våra biografer":
        - /url: /biografer/
  - heading "För företag" [level=2]
  - list:
    - listitem:
      - link "Företagsbiljetter":
        - /url: /foretagsbiljetter/
    - listitem:
      - link "Möten & Event ":
        - /url: https://moten.filmstaden.se/
    - listitem:
      - link "Bioreklam ":
        - /url: https://media.filmstaden.se/
    - listitem:
      - link "Föreningsbiljetten":
        - /url: /foreningsbiljetten/
  - heading "Hjälp & kontakt" [level=2]
  - list:
    - listitem:
      - link "Kundservice":
        - /url: /kundservice/fragor-och-svar/
    - listitem:
      - link "Tillgänglig bio":
        - /url: /tillganglig-bio/
    - listitem:
      - link "Personuppgiftspolicy":
        - /url: /kundservice/fragor-och-svar/villkor-och-policies/personuppgiftspolicy/
    - listitem:
      - link "Cookiepolicy":
        - /url: /kundservice/fragor-och-svar/villkor-och-policies/cookiepolicy/
    - listitem:
      - link "Kontakta oss":
        - /url: /kundservice/kontakta-oss/
  - heading "Sociala medier" [level=2]
  - list:
    - listitem:
      - link "Instagram ":
        - /url: https://www.instagram.com/filmstaden_ab/
    - listitem:
      - link "Facebook ":
        - /url: https://www.facebook.com/filmstadenab
    - listitem:
      - link "LinkedIn ":
        - /url: https://se.linkedin.com/company/filmstaden
  - separator
  - img "Filmstaden logotype"
  - paragraph: Filmstaden ©2021. En del av Odeon Cinemas Group
- text: "Navigated to Minioner: Berättelsen om Gru"
```

# Test source

```ts
   1 | import { DefaultPageWithNavigation } from './DefaultPageWithNavigation';
   2 |
   3 | export class ShowPage extends DefaultPageWithNavigation {
   4 |   private ticketStepper: any;
   5 |   private emailField: any;
   6 |   private ageLimitCheckbox: any;
   7 |   private secondAgeLimitCheckbox: any;
   8 |   private paymentButton: any;
   9 |   private removeTicketButton: any;
   10 |   private addTicketButton: any;
   11 |   private discountInfoButton: any;
   12 |   private discountCodeField: any;
   13 |   private discountActivateButton: any;
   14 |   private discountPopupButton: any;
   15 |   private noPaymentNeededButton: any;
   16 |   public amountOfTicketsLabel: any;
   17 |   public mainContentLocator: any;
   18 |   public discountCodeInfo: any;
   19 |   public formLocator: any;
   20 |   public salonInformationButton: any;
   21 |   public dialogLocator: any;
   22 |   public closeDialogButton: any;
   23 |
   24 |   constructor(page) {
   25 |     super(page);
   26 |     this.ticketStepper = this.page.locator('#stepper-inputfield_Ordinarie');
   27 |     this.emailField = this.page.getByPlaceholder('Fyll i din e-postadress');
   28 |     this.ageLimitCheckbox = this.page
   29 |       .locator('label')
   30 |       .filter({ hasText: 'Jag är medveten om att filmen' });
   31 |     this.secondAgeLimitCheckbox = this.page
   32 |       .locator('label')
   33 |       .filter({ hasText: 'Jag intygar att alla i sä' });
   34 |     this.paymentButton = this.page.getByRole('button', {
   35 |       name: 'Fortsätt till kortbetalning',
   36 |     });
   37 |     this.noPaymentNeededButton = this.page.getByRole('button', {
   38 |       name: 'Fortsätt',
   39 |     });
   40 |     this.removeTicketButton = this.page
   41 |       .locator(
   42 |         '//span[@class="icomoon icon-collapse-solid  inline-block align-middle text-icon-size-40 w-[2.5rem] h-[2.5rem] leading-none"]'
   43 |       )
   44 |       .nth(0);
   45 |     this.addTicketButton = this.page
   46 |       .locator(
   47 |         '//span[@class="icomoon icon-expand-solid  inline-block align-middle text-icon-size-40 w-[2.5rem] h-[2.5rem] leading-none"]'
   48 |       )
   49 |       .nth(0);
   50 |     this.discountInfoButton = this.page.getByRole('button', {
   51 |       name: ' Probem med rabattkoden',
   52 |     });
   53 |     this.discountCodeField = this.page.getByPlaceholder('Ange kod');
   54 |     this.discountActivateButton = this.page.getByRole('button', {
   55 |       name: 'Aktivera',
   56 |     });
   57 |     this.discountPopupButton = this.page.getByRole('button', {
   58 |       name: 'Lös in in rabattkod',
   59 |     });
   60 |     this.amountOfTicketsLabel = this.page.locator(
   61 |       "//div[@class='shrink-0 text-right font-bold']"
   62 |     );
   63 |     this.mainContentLocator = this.page.getByRole('main');
   64 |     this.discountCodeInfo = this.page.getByLabel('Probem med rabattkoden');
   65 |     this.formLocator = this.page.locator('form');
   66 |     this.salonInformationButton = this.page.getByRole('button', {
   67 |       name: 'Salongsinformation',
   68 |     });
   69 |     this.dialogLocator = this.page.getByRole('dialog');
   70 |     this.closeDialogButton = this.page.getByRole('button', { name: 'Stäng' });
   71 |   }
   72 |
   73 |   async selectOneTicket() {
>  74 |     while ((await this.ticketStepper.inputValue()) !== '1') {
      |                                      ^ Error: locator.inputValue: Test timeout of 60000ms exceeded.
   75 |       await this.removeTicketButton.click();
   76 |       if ((await this.ticketStepper.inputValue()) === '0') {
   77 |         await this.addTicketButton.click();
   78 |       }
   79 |     }
   80 |   }
   81 |
   82 |   async openDiscountPopup() {
   83 |     await this.discountPopupButton.click();
   84 |   }
   85 |
   86 |   async expandDiscountInfo() {
   87 |     await this.discountInfoButton.click();
   88 |   }
   89 |
   90 |   async fillDiscountCode(discountCode: string) {
   91 |     await this.discountCodeField.fill(discountCode);
   92 |   }
   93 |
   94 |   async activateDiscountCode() {
   95 |     await this.discountActivateButton.click();
   96 |   }
   97 |
   98 |   async fillEmail(email) {
   99 |     await this.emailField.fill(email);
  100 |   }
  101 |
  102 |   async acceptAgeLimit() {
  103 |     if ((await this.ageLimitCheckbox.count()) > 0) {
  104 |       await this.ageLimitCheckbox.first().click();
  105 |     } else if ((await this.secondAgeLimitCheckbox.count()) > 0) {
  106 |       await this.secondAgeLimitCheckbox.first().click();
  107 |     }
  108 |   }
  109 |
  110 |   async startPayment() {
  111 |     await this.paymentButton.click();
  112 |   }
  113 |
  114 |   async finishWithoutPaying() {
  115 |     await this.noPaymentNeededButton.click();
  116 |   }
  117 |
  118 |   async clickSalonInformationButton() {
  119 |     await this.salonInformationButton.click();
  120 |   }
  121 |
  122 |   async closeSalonInformationButton() {
  123 |     await this.closeDialogButton.click();
  124 |   }
  125 |
  126 |   async findShowWithSalonInformation(
  127 |     selectFirstAvailableShowtime: (
  128 |       selectRandomMovie: () => Promise<void>
  129 |     ) => Promise<void>,
  130 |     selectRandomMovie: () => Promise<void>
  131 |   ) {
  132 |     let salonInfoButtonCount = await this.salonInformationButton.count();
  133 |     while (salonInfoButtonCount === 0) {
  134 |       await selectFirstAvailableShowtime(selectRandomMovie);
  135 |       await this.page.waitForLoadState('networkidle');
  136 |       salonInfoButtonCount = await this.salonInformationButton.count();
  137 |     }
  138 |   }
  139 | }
  140 |
```